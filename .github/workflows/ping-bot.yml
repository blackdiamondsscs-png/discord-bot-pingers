name: ü§ñ Discord Bot Pinger 24/7

on:
  schedule:
    - cron: '*/5 * * * *'  # –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
  workflow_dispatch:

jobs:
  ping-bot:
    runs-on: ubuntu-latest
    timeout-minutes: 5
    
    steps:
    - name: üöÄ –ü–∏–Ω–≥–æ–≤–∞—Ç—å Discord –±–æ—Ç–∞
      run: |
        echo "=== –ó–ê–ü–£–°–ö –ü–ò–ù–ì–ï–†–ê ==="
        echo "üïê –í—Ä–µ–º—è: $(date '+%H:%M:%S')"
        echo ""
        
        # === –¢–í–û–ô –†–ê–ë–û–ß–ò–ô URL ===
        BOT_URL="https://workspace.BlackDiamond6.repl.co"
        
        echo "üéØ –¶–µ–ª—å: $BOT_URL"
        echo "üìå –≠—Ç–æ—Ç URL –ø–æ–ª—É—á–µ–Ω –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö Replit"
        echo ""
        
        # –ü—Ä–æ–±—É–µ–º —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∞–π–º–∞—É—Ç–∞–º–∏
        echo "üì° –ü—Ä–æ–±—É—é –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è..."
        
        success=false
        
        # –ü–æ–ø—ã—Ç–∫–∞ 1: –û—Å–Ω–æ–≤–Ω–æ–π –ø–∏–Ω–≥
        echo "üîÑ –ü–æ–ø—ã—Ç–∫–∞ 1: –û—Å–Ω–æ–≤–Ω–æ–π URL"
        HTTP_CODE1=$(curl -s -o /dev/null -w "%{http_code}" --max-time 30 "$BOT_URL" 2>/dev/null || echo "000")
        
        if [ "$HTTP_CODE1" = "200" ]; then
          echo "‚úÖ –£—Å–ø–µ—Ö! –°—Ç–∞—Ç—É—Å: $HTTP_CODE1"
          success=true
        else
          echo "‚ö†Ô∏è –ö–æ–¥: $HTTP_CODE1"
          
          # –ü–æ–ø—ã—Ç–∫–∞ 2: –ß–µ—Ä–µ–∑ /ping
          echo "üîÑ –ü–æ–ø—ã—Ç–∫–∞ 2: –≠–Ω–¥–ø–æ–∏–Ω—Ç /ping"
          HTTP_CODE2=$(curl -s -o /dev/null -w "%{http_code}" --max-time 30 "$BOT_URL/ping" 2>/dev/null || echo "000")
          
          if [ "$HTTP_CODE2" = "200" ]; then
            echo "‚úÖ –£—Å–ø–µ—Ö —á–µ—Ä–µ–∑ /ping! –°—Ç–∞—Ç—É—Å: $HTTP_CODE2"
            success=true
          else
            echo "‚ö†Ô∏è –ö–æ–¥: $HTTP_CODE2"
          fi
        fi
        
        echo ""
        
        if [ "$success" = true ]; then
          echo "üéâ –ë–û–¢ –†–ê–ë–û–¢–ê–ï–¢!"
          echo "üìÑ –ü–æ—Å–ª–µ–¥–Ω–∏–π –æ—Ç–≤–µ—Ç:"
          curl -s --max-time 30 "$BOT_URL" | head -2
        else
          echo "‚ùå –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã"
          echo ""
          echo "üîß –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:"
          echo "   1. –ë–æ—Ç –Ω–µ –∑–∞–ø—É—â–µ–Ω –Ω–∞ Replit"
          echo "   2. –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é Replit"
          echo "   3. –í–µ–±-—Å–µ—Ä–≤–µ—Ä Flask –Ω–µ –∑–∞–ø—É—â–µ–Ω"
          echo ""
          echo "üí° –ü—Ä–æ–≤–µ—Ä–∫–∞:"
          echo "   - –ó–∞–ø—É—â–µ–Ω –ª–∏ –±–æ—Ç –Ω–∞ Replit?"
          echo "   - –í–∏–¥–∏—à—å –ª–∏ —Ç—ã 'ü§ñ Discord Bot Active!' –≤ –∫–æ–Ω—Å–æ–ª–∏?"
        fi
        
        echo ""
        echo "‚úÖ Workflow –≤—ã–ø–æ–ª–Ω–µ–Ω"
        echo "‚è∞ –°–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç"
        
    - name: üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
      if: always()
      run: |
        echo ""
        echo "=== –ò–ù–§–û–†–ú–ê–¶–ò–Ø ==="
        echo "üåê URL: https://workspace.BlackDiamond6.repl.co"
        echo "‚è∞ –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è: $(date)"
        echo "üîÑ GitHub Actions –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å 24/7"
        echo "üîß –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–≤–æ–µ–≥–æ –ü–ö"
