name: ü§ñ Discord Bot Pinger 24/7

on:
  schedule:
    # –ò–ó–ú–ï–ù–Ø–ï–ú: –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã –≤–º–µ—Å—Ç–æ 5
    - cron: '*/2 * * * *'
  
  workflow_dispatch:

jobs:
  ping-bot:
    runs-on: ubuntu-latest
    timeout-minutes: 3
    
    steps:
    - name: üöÄ –ë—ã—Å—Ç—Ä—ã–π –ø–∏–Ω–≥ –±–æ—Ç–∞
      run: |
        echo "=== –ë–´–°–¢–†–´–ô –ü–ò–ù–ì (–∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã) ==="
        echo "üïê –ù–∞—á–∞–ª–æ: $(date '+%H:%M:%S')"
        echo ""
        
        # –¢–≤–æ–π URL
        BOT_URL="https://workspace.BlackDiamond6.repl.co"
        
        echo "üéØ –¶–µ–ª—å: $BOT_URL"
        echo "‚ö° –ò–Ω—Ç–µ—Ä–≤–∞–ª: 2 –º–∏–Ω—É—Ç—ã"
        echo ""
        
        # –ë—ã—Å—Ç—Ä—ã–π –ø–∏–Ω–≥ —Å –∫–æ—Ä–æ—Ç–∫–∏–º —Ç–∞–π–º–∞—É—Ç–æ–º
        start_time=$(date +%s)
        http_code=$(curl -s -o /dev/null -w "%{http_code}" --max-time 10 "$BOT_URL" 2>/dev/null || echo "000")
        end_time=$(date +%s)
        response_time=$((end_time - start_time))
        
        if [ "$http_code" = "200" ]; then
          echo "‚úÖ –£—Å–ø–µ—Ö! –°—Ç–∞—Ç—É—Å: $http_code"
          echo "‚è± –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: ${response_time}—Å"
          
          # –ü–æ–∫–∞–∂–µ–º –∫–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç
          response=$(curl -s --max-time 5 "$BOT_URL" | head -1)
          echo "üìÑ –û—Ç–≤–µ—Ç: $response"
        else
          echo "‚ö†Ô∏è –ö–æ–¥: $http_code, –í—Ä–µ–º—è: ${response_time}—Å"
          echo "‚ÑπÔ∏è –ü—Ä–æ–¥–æ–ª–∂–∞—é —Ä–∞–±–æ—Ç—É (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)"
        fi
        
        echo ""
        echo "‚úÖ –ü–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω"
        echo "‚è∞ –°–ª–µ–¥—É—é—â–∏–π —á–µ—Ä–µ–∑ 2 –º–∏–Ω—É—Ç—ã"
        
    - name: üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
      if: always()
      run: |
        echo "üîÑ –ß–∞—Å—Ç–æ—Ç–∞: –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã"
        echo "üåê GitHub —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞—é—Ç 24/7"
        echo "üîß –ë–æ—Ç –Ω–µ –±—É–¥–µ—Ç –æ—Ç–∫–ª—é—á–∞—Ç—å—Å—è"
